# ميزة تعديل المنتجات

## نظرة عامة
تم إضافة ميزة تعديل المنتجات إلى لوحة التحكم، مما يتيح للمستخدمين تعديل المنتجات الموجودة وإضافة/حذف الصور والفيديوهات.

## الميزات الجديدة

### 1. زر التعديل
- تم إضافة زر "تعديل" بجانب زر "حذف" لكل منتج في قائمة المنتجات
- الزر يحتوي على أيقونة التعديل ونص "تعديل"

### 2. مودال تعديل المنتج
- مودال شامل لتعديل جميع بيانات المنتج
- يتضمن:
  - اسم المنتج
  - وصف المنتج
  - السعر
  - الفئة
  - الصور والفيديوهات

### 3. إدارة الصور المتعددة
- **رفع صور جديدة**: يمكن رفع صور جديدة للمنتج
- **إضافة من رابط**: يمكن إضافة صور من روابط خارجية
- **حذف الصور**: يمكن حذف أي صورة من المنتج
- **تحديد الصورة الرئيسية**: يمكن تحديد أي صورة كصورة رئيسية
- **عرض الصور**: عرض جميع صور المنتج مع إمكانية التنقل بينها

### 4. API جديد
- تم إنشاء API endpoint جديد: `PUT /api/products/[id]`
- يتيح تحديث منتج محدد بواسطة ID
- يحافظ على جميع البيانات الموجودة ويحدثها

## كيفية الاستخدام

### تعديل منتج موجود
1. انتقل إلى لوحة التحكم
2. اختر تبويب "إدارة المنتجات"
3. في قائمة المنتجات، اضغط على زر "تعديل" بجانب المنتج المطلوب
4. سيظهر مودال التعديل مع بيانات المنتج الحالية
5. قم بتعديل البيانات المطلوبة
6. لإضافة صور جديدة:
   - اسحب وأفلت الصور في المنطقة المخصصة
   - أو اضغط "اختيار الصور" لاختيار من جهازك
   - أو اضغط "إضافة من رابط" لإضافة صورة من رابط خارجي
7. لحذف صورة: اضغط على زر X فوق الصورة
8. لتحديد صورة رئيسية: اضغط على زر النجمة فوق الصورة
9. اضغط "حفظ التعديلات" لحفظ التغييرات

### إدارة الصور
- **الحد الأقصى**: 10 صور لكل منتج
- **حجم الملف**: حتى 100MB لكل صورة
- **الأنواع المدعومة**: جميع أنواع الصور (JPG, PNG, GIF, WebP)
- **الصورة الرئيسية**: ستظهر في قائمة المنتجات في الموقع

## الملفات المضافة/المحدثة

### ملفات جديدة
- `src/components/dashboard/edit-product-modal.tsx` - مودال تعديل المنتج
- `src/components/dashboard/multi-image-upload.tsx` - مكون رفع الصور المتعددة
- `src/app/api/products/[id]/route.ts` - API لتحديث المنتج

### ملفات محدثة
- `src/components/dashboard/product-list.tsx` - إضافة زر التعديل
- `src/app/dashboard/page.tsx` - إضافة مودال التعديل

## الأمان والتحقق
- يتم التحقق من صحة البيانات قبل الحفظ
- يتم التحقق من حجم ونوع الملفات المرفوعة
- يتم التحقق من صحة الروابط الخارجية
- يتم حفظ البيانات في Vercel Blob Storage بشكل آمن

## ملاحظات تقنية
- المودال يدعم التمرير للصور الكثيرة
- يتم تحديث قائمة المنتجات تلقائياً بعد التعديل
- يتم عرض رسائل نجاح/خطأ مناسبة
- يدعم الإلغاء والعودة للبيانات الأصلية

## استكشاف الأخطاء
- إذا لم تظهر الصور: تأكد من صحة الروابط
- إذا فشل الرفع: تأكد من حجم الملف (أقل من 100MB)
- إذا فشل الحفظ: تأكد من ملء جميع الحقول المطلوبة 